<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<HTML>
<HEAD>
<TITLE>package org.opengis.feature.type</TITLE>
</HEAD>
<BODY>
Captures the generic feature model from ISO 19109 with allowances for usability.
<p>This feature model has been produced after review of the ISO 19109 specifcation, and a review
of several java implementations.</p>
</p>
<p>
The goals of this package is to capture the type information for the "general feature model".
</p>
<p>
The following goals have been set:
<ul>
<li>support reflection on application schema
<li>encourage the use of access via a Query lanaguage (provided by the Filter specification)
<li>capture enough information to permit the seemless handling models taken from XML specifications, in
particular the use of sequence, choice and XPath access have proven a chalange.
<li>permit the definition of a SimpleFeatureType similar in spirit to the previous GeoAPI feature model
in which accessor methods may be used directly and are based around simple Stirngs.
<li>use naming consistent with the ISO 19109 specification
<li>be consistent with common java usage conventions
</ul>

The following ideas are central to this package:
<ul>
<li>Schema holds AttributeTypes by TypeName, these names are also available in a Namespace
<li>AttributeType is the base "Type" in the system, it is bound against a java Class and may
be reused.
<li>AttribtueType may indicate available opperations using "OpperationDescriptors", these descriptors have an OpperationType describing their required parameters as list of AttribtueTypes
<li>AttributeType contains set of Filters that are used to "constrain" the permissable value
<li>AttirbuteType is allowed to be an extention of a super type. This presents one known issue: the bound java classes
may not be compatiable even if in terms of modeling a subset is properly represetned (An example is Interger representing a subset of BigInteger).
<li>ComplexType contains additional PropertyDescriptors describing attributes and associations with their multiplicity.
<li>FeatureType explicilty represents a spatial type, with additional information such as CRS and default geometry
<li>FeatureCollectioType indicates its associated member FeatureTypes with an AssociationDescriptor that is bound
to a FeatureType.
</ul>

<p>
There is one open question:
<ul>
<li>Can an association type work against an non identified AttributeType?<br>
Since our current use is limited to FeatureCollection members we will not be able to answer
at this time.
</ul>

<h2>Differences from ISO 19109:</h2>
<p>
We have explicilty made the following break with ISO 19109:
<ul>
<li>Name - we have adopted a simple definition of Name based on QName. The ISO implementation combined
the responsibilities of naming with the implementation of a linked list. The result was strange and has
not provied intutitive.  If possible we would prefer to use the javax.naming.Name API.
<li>Namesapce - implemented as Set<Name>, this is also a "named" construct with its own Name.
<li>TypeName - we have seperated out the concerns of TypeDefinition from TypeName, in ISO 19109
    these were combined and caused great confusion.
<li>AttributeName - also seperated from AttributeType
</ul>
Numerous other changes have been made to leverage Java collection API
where appropriate. These represent a direct mapping on to the language
constructs.
</p>
<h2>Relationship to ISO 19109 Primer</h2>
<p>
This work is greatly informed from a propsal included in the ISO 19109 primer - writen by Bryce.
In particular the requirement for opperations, associations and detailed review of ISO19109, and EMF
was a great asset.  This primer also served as the only public documentation of the ISO 19109 material
available for open development.
<p>
Differences from Bryce's proposal:
<ul>
<li>Name, TypeName and Namespace as above
<li>Schema - we once again do not combine implementation with identification
   (the proposal for Package extended ScopedName). We have implemened a Schema class
   as a Map<TypeName,AttributeType> this works out nicely as the keySet ends up being
   the Namespace for the Schema.
<li>Factory and Type seperation, we have explicitly not extended our type Schema class in order
to make a FeatureFactory. A requirement of the type system is to allow for application supplied
FeatureType creation, this is a seperate concern then modeling and grouping feature types.
</ul>
The definition of Record and Name were unresolved at the time of this
work and has not been intergrated. In particular the defintion of Name
was taken as "too complicated".
</p>
<p>
We also disagreed with one of the goals of the proposal: <i>convention that the creation of objects
inside an application schema is the responsibility of the schema author</i>. This goal is in conflict
with our need to allow applications to create instances of their own devising. This need is particulary
apparent when an application needs to ensure the use of a specific base class (for example to work
with a persistence system Jaxtor, or modeling system like EMF).
</p>
</BODY>

</HTML>
