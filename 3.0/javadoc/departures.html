<!DOCTYPE html>

<html>
  <head>
    <title>Departures from the ISO/OGC specifications</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="stylesheet" type="text/css" href="departure.css"/>
  </head>
  <body>
  <h1>Departures from the ISO/OGC specifications</h1>
  <p>The following sections list all the departures from the ISO standards taken by the GeoAPI interface library. The rationale for these departures fall into the following categories:</p>
  <ul>
    <li><a href="#integration">Departure for closer integration with the Java environment</a></li>
    <li><a href="#easeOfUse">Extension for convenience without introduction of new functionality</a></li>
    <li><a href="#harmonization">Departure for harmonization between different specifications</a></li>
    <li><a href="#extension">Addition of element not in the ISO/OGC specification</a></li>
    <li><a href="#historic">Departure for historical reason</a></li>
    <li><a href="#rename">Change of name without change in functionality</a></li>
    <li><a href="#constraint">Departure due to constraint of the Java language</a></li>
    <li><a href="#generalization">Generalization by relaxation of ISO/OGC restriction</a></li>
  </ul>
  <section class="categories">
    <h2 id="integration">Departure for closer integration with the Java environment</h2>
    <section class="types">

      <h3>Interface <a href="org/opengis/referencing/crs/DerivedCRS.html">DerivedCRS</a></h3>
        <div class="desc">ISO 19111 defines a <code>DerivedCRSType</code> code list. The later is omitted in GeoAPI since
   Java expressions like <code>(baseCRS instanceof FooCRS)</code> provides the same capability
   with more flexibility.</div>

      <h3>Interface <a href="org/opengis/referencing/operation/MathTransform2D.html">MathTransform2D</a></h3>
        <div class="desc">This interface is not part of OGC specification. It has been added in GeoAPI for
   close integration with the <cite>Java2D</cite> library. The API defined in this
   interface matches the <code>java.awt.geom.AffineTransform</code> API.</div>

      <h3>Interface <a href="org/opengis/util/CodeList.html">CodeList</a></h3>
      <section class="members">
        <h4>Method valueOf,<br>Method valueOf,<br>Method name,<br>Method ordinal</h4>
        <div class="desc">Provided by analogy with the methods in the Java <code>Enum</code> class.</div>

        <h4>Method family</h4>
        <div class="desc">Provided by analogy with <code>Enum.family()</code>, which was defined in a initial
   draft of Java 5 before the final release.</div>
      </section>

      <h3>Interface <a href="org/opengis/referencing/operation/Matrix.html">Matrix</a></h3>
      <section class="members">
        <h4>Method getNumRow,<br>Method getNumCol,<br>Method getElement,<br>Method setElement</h4>
        <div class="desc">Needed for making the matrix usable. The method signature matches the one of
   <code>GMatrix</code> in the <cite>vecmath</cite> package, for straightforward
   implementation.</div>
      </section>

      <h3>Interface <a href="org/opengis/metadata/extent/VerticalExtent.html">VerticalExtent</a></h3>
      <section class="members">
        <h4>Method getVerticalCRS</h4>
        <div class="desc">ISO 19115 specifies a generic <code>CoordinateReferenceSystem</code> instead of the more
   restrictive <code>VerticalCRS</code>. GeoAPI uses the more specific type for type-safety and
   consistency with <code>VerticalExtent</code> usage. However this restriction prevents usage
   of <cite>Height above the ellipsoid</cite> when only the constants defined in the
   <code>VerticalDatumType</code> code list are used. If such height is wanted, implementors
   need to extend the above code list with their own <code>ELLIPSOIDAL</code> constant.</div>
      </section>
    </section>
    <h2 id="easeOfUse">Extension for convenience without introduction of new functionality</h2>
    <section class="types">

      <h3>Interface <a href="org/opengis/geometry/DirectPosition.html">DirectPosition</a>,<br>Interface <a href="org/opengis/geometry/Envelope.html">Envelope</a></h3>
        <div class="desc">This interface was moved into the <code>org.opengis.geometry</code> package for convenience.</div>

      <h3>Interface <a href="org/opengis/geometry/Envelope.html">Envelope</a></h3>
      <section class="members">
        <h4>Method getCoordinateReferenceSystem,<br>Method getDimension</h4>
        <div class="desc">ISO does not define this method - the CRS or the dimension can be obtained only through
   one of the corner <code>DirectPosition</code> objects. GeoAPI adds this method for
   convenience as a more direct way of obtaining the information and to free the user from
   the need to choose an arbitrary corner (very defensive code might feel the need to get
   the value from both corners to check they were the same).</div>

        <h4>Method getMinimum,<br>Method getMaximum,<br>Method getMedian,<br>Method getSpan</h4>
        <div class="desc">This method is not part of ISO specification. GeoAPI adds this method for convenience and
   efficiency, since some implementations might store the minimum and maximum ordinate values
   directly in the <code>Envelope</code> itself rather than in a contained 
   <code>DirectPosition</code> corner.</div>
      </section>

      <h3>Interface <a href="org/opengis/util/GenericName.html">GenericName</a></h3>
      <section class="members">
        <h4>Method tip,<br>Method toFullyQualifiedName,<br>Method toString</h4>
        <div class="desc">This method is not part of ISO specification. It does not provide any additional
   information compared to that accessible though the standard methods defined by
   ISO, but provides easier to access frequently requested information.</div>
      </section>

      <h3>Interface <a href="org/opengis/referencing/operation/Matrix.html">Matrix</a></h3>
      <section class="members">
        <h4>Method isIdentity</h4>
        <div class="desc">Added as a convenience for a frequently requested operation.</div>
      </section>

      <h3>Interface <a href="org/opengis/parameter/ParameterDescriptorGroup.html">ParameterDescriptorGroup</a></h3>
      <section class="members">
        <h4>Method descriptor</h4>
        <div class="desc">This method is not part of the ISO specification. It has been added in an attempt to make
   this interface easier to use.</div>
      </section>

      <h3>Interface <a href="org/opengis/parameter/ParameterValueGroup.html">ParameterValueGroup</a></h3>
      <section class="members">
        <h4>Method parameter,<br>Method groups,<br>Method addGroup</h4>
        <div class="desc">This method is not part of the ISO specification. It has been added in an attempt to make
   this interface easier to use.</div>
      </section>

      <h3>Interface <a href="org/opengis/util/Record.html">Record</a></h3>
      <section class="members">
        <h4>Method set</h4>
        <div class="desc">This method provides no additional functionality compared to the ISO standard methods,
   but is declared in GeoAPI as a convenient shortcut.</div>
      </section>

      <h3>Interface <a href="org/opengis/util/RecordType.html">RecordType</a></h3>
      <section class="members">
        <h4>Method getMembers,<br>Method isInstance</h4>
        <div class="desc">This method provides no additional information compared to the ISO standard methods,
   but is declared in GeoAPI as a convenient shortcut.</div>
      </section>

      <h3>Interface <a href="org/opengis/util/ScopedName.html">ScopedName</a></h3>
      <section class="members">
        <h4>Method path</h4>
        <div class="desc">This method is not part of ISO specification. It has been added in GeoAPI as a
   complement of the ISO <code>tail()</code> method.</div>
      </section>
    </section>
    <h2 id="harmonization">Departure for harmonization between different specifications</h2>
    <section class="types">

      <h3>Package <a href="org/opengis/metadata/package-summary.html">metadata</a></h3>
        <div class="desc">Omitted the reference system package, since it duplicates ISO 19111 / OGC Topic 2.
   This follows the lead of ISO 19111, which states:

   <BLOCKQUOTE>"Normative reference to ISO 19115 is restricted as follows: in this international
   standard, normative reference to ISO 19111 excludes the <code>MD_CRS</code> class and its components
   classes." <i><font>(ISO 19111:2007, section 3 "Normative References")</font></i></BLOCKQUOTE></div>

      <h3>Package <a href="org/opengis/parameter/package-summary.html">parameter</a></h3>
        <div class="desc">Moved the <code>GeneralParameterDescriptor</code>, <code>ParameterDescriptor</code>,
   <code>ParameterDescriptorGroup</code>, <code>GeneralParameterValue</code>, <code>ParameterValue</code>,
   <code>ParameterValueGroup</code>, <code>InvalidParameterNameException</code>,
   <code>InvalidParameterTypeException</code> and <code>InvalidParameterValueException</code>
   interfaces from <code>org.opengis.referencing.operation</code> to <code>org.opengis.parameter</code>.
   With this move, GeoAPI has extended the use of these parameter classes to a more general use rather
   than only for referencing operation types.</div>

      <h3>Interface <a href="org/opengis/util/Factory.html">Factory</a></h3>
        <div class="desc">This interface is not part of the OGC specification. It is added for uniformity,
   in order to provide a common base class for all factories.</div>

      <h3>Interface <a href="org/opengis/referencing/IdentifiedObject.html">IdentifiedObject</a></h3>
        <div class="desc">ISO 19111 defines an <code>IdentifiedObjectBase</code> interface. The later is omitted in
   GeoAPI because the split between <code>IdentifiedObject</code> and <code>IdentifiedObjectBase</code>
   in the ISO/OGC specification was a workaround for introducing <code>IdentifiedObject</code>
   in ISO 19111 without changing the <code>ReferenceSystem</code> definition in ISO 19115 but
   GeoAPI does not need this workaround.</div>

      <h3>Interface <a href="org/opengis/referencing/ObjectFactory.html">ObjectFactory</a></h3>
        <div class="desc">This interface is not part of any OGC specification. It is added for uniformity,
   in order to provide a common base class for all referencing factories producing
   <code>IdentifiedObject</code> instances.</div>
    </section>
    <h2 id="extension">Addition of element not in the ISO/OGC specification</h2>
    <section class="types">

      <h3>Interface <a href="org/opengis/referencing/operation/ConicProjection.html">ConicProjection</a>,<br>Interface <a href="org/opengis/referencing/operation/CylindricalProjection.html">CylindricalProjection</a>,<br>Interface <a href="org/opengis/referencing/operation/PlanarProjection.html">PlanarProjection</a>,<br>Interface <a href="org/opengis/referencing/operation/Projection.html">Projection</a></h3>
        <div class="desc">This interface is not part of the ISO specification. It has been added in GeoAPI at user
   request, in order to provide a way to know the kind of map projection.</div>

      <h3>Class <a href="org/opengis/util/FactoryException.html">FactoryException</a>,<br>Class <a href="org/opengis/parameter/InvalidParameterCardinalityException.html">InvalidParameterCardinalityException</a>,<br>Class <a href="org/opengis/parameter/InvalidParameterTypeException.html">InvalidParameterTypeException</a>,<br>Class <a href="org/opengis/geometry/MismatchedDimensionException.html">MismatchedDimensionException</a>,<br>Class <a href="org/opengis/referencing/NoSuchAuthorityCodeException.html">NoSuchAuthorityCodeException</a>,<br>Class <a href="org/opengis/util/NoSuchIdentifierException.html">NoSuchIdentifierException</a>,<br>Class <a href="org/opengis/referencing/operation/NoninvertibleTransformException.html">NoninvertibleTransformException</a>,<br>Class <a href="org/opengis/referencing/operation/OperationNotFoundException.html">OperationNotFoundException</a>,<br>Class <a href="org/opengis/referencing/operation/TransformException.html">TransformException</a></h3>
        <div class="desc">This exception is not part of the OGC specification.</div>

      <h3>Interface <a href="org/opengis/util/CodeList/Filter.html">Filter</a></h3>
        <div class="desc">The inner <code>CodeList.Filter</code> interface is not part of the OGC specification.
   It has been added because <code>CodeList</code> is one of the few concrete classes in
   GeoAPI and there is a need to give some user control over the behavior of the
   <code>CodeList</code> implementation.</div>

      <h3>Interface <a href="org/opengis/util/InternationalString.html">InternationalString</a></h3>
        <div class="desc">Added this new type in order to distinguish between localizable and non-localizable character
   strings. Not all character strings should be localizable; for example <cite>Well Know Text</cite>
   or code names should probably be language neutral. Since the ISO/OGC UML does not say which character
   strings are localizable and which ones are not, we have done our own guesses in GeoAPI.</div>

      <h3>Interface <a href="org/opengis/referencing/operation/MathTransform1D.html">MathTransform1D</a></h3>
        <div class="desc">This interface is not part of the OGC specification. It has been added as a complement
   of <code>MathTransform2D</code> and because the 1D case provides opportunities for
   optimization through a <code>transform</code> method accepting a single <code>double</code>
   primitive type.</div>

      <h3>Interface <a href="org/opengis/util/NameFactory.html">NameFactory</a></h3>
        <div class="desc">Added in order to provide constructors for <code>GenericName</code> and related interfaces.</div>

      <h3>Class <a href="org/opengis/parameter/ParameterNotFoundException.html">ParameterNotFoundException</a></h3>
        <div class="desc">This exception is not part of OGC specification.</div>

      <h3>Interface <a href="org/opengis/referencing/AuthorityFactory.html">AuthorityFactory</a></h3>
      <section class="members">
        <h4>Method getAuthorityCodes</h4>
        <div class="desc">This method is not part of the OGC specification but has been added as a way to publish
   the capabilities of a factory.</div>
      </section>

      <h3>Interface <a href="org/opengis/util/CodeList.html">CodeList</a></h3>
      <section class="members">
        <h4>Method names</h4>
        <div class="desc">Defined because each <code>CodeList</code> has at least two names, the Java programmatic
   name and the UML identifier, while some subclasses have additional names.</div>

        <h4>Method identifier</h4>
        <div class="desc">Defined because each <code>CodeList</code> has a UML identifier in addition of the Java
   programmatic name.</div>
      </section>

      <h3>Interface <a href="org/opengis/referencing/operation/CoordinateOperationAuthorityFactory.html">CoordinateOperationAuthorityFactory</a></h3>
      <section class="members">
        <h4>Method createOperationMethod</h4>
        <div class="desc">This method has been added because OGC 01-009 does not define a factory
   method for creating such object.</div>
      </section>

      <h3>Interface <a href="org/opengis/referencing/operation/CoordinateOperationFactory.html">CoordinateOperationFactory</a></h3>
      <section class="members">
        <h4>Method createOperation</h4>
        <div class="desc">This method has been added at user request, in order to specify the desired
   transformation path when many are available.</div>

        <h4>Method createConcatenatedOperation</h4>
        <div class="desc">This method has been added because OGC 01-009 does not define a factory
   method for creating such object.</div>
      </section>

      <h3>Interface <a href="org/opengis/parameter/GeneralParameterDescriptor.html">GeneralParameterDescriptor</a></h3>
      <section class="members">
        <h4>Method createValue</h4>
        <div class="desc">This method is not part of the ISO specification. It is provided in GeoAPI as a kind of
   factory method.</div>
      </section>

      <h3>Interface <a href="org/opengis/util/GenericName.html">GenericName</a></h3>
      <section class="members">
        <h4>Method toInternationalString</h4>
        <div class="desc">This method is not part of the ISO specification. It has been added to provide
   a way to localize the name.</div>
      </section>

      <h3>Interface <a href="org/opengis/referencing/IdentifiedObject.html">IdentifiedObject</a></h3>
      <section class="members">
        <h4>Method toWKT</h4>
        <div class="desc">This method is not part of the OGC specification. It has been added in order to provide
   the converse of the <code>CRSFactory.createFromWKT(String)</code> method, which is
   defined in OGC 01-009.</div>
      </section>

      <h3>Interface <a href="org/opengis/referencing/operation/MathTransformFactory.html">MathTransformFactory</a></h3>
      <section class="members">
        <h4>Method getAvailableMethods</h4>
        <div class="desc">This method is not part of the OGC specification. It has been added as a way to publish
   the capabilities of a factory.</div>

        <h4>Method getLastMethodUsed</h4>
        <div class="desc">This method is not part of the OGC specification. It has been added because this information
   appears to be needed in practice. A more object-oriented approach would have been to
   return a {<code>MathTransform</code>, <code>OperationMethod</code>} tuple in the
   <code>createParameterizedTransform()</code> method, but we wanted to keep the
   later unchanged for historical reasons (it is inherited from OGC 01-009) and because
   only a minority of use cases need the operation method.
   <p>
   Note that the existence of this method does not break thread-safety if the implementor
   stores this information in a <code>ThreadLocal</code> variable.</div>

        <h4>Method getDefaultParameters,<br>Method createBaseToDerived</h4>
        <div class="desc">This method is part of the GeoAPI mechanism for defining the math transform parameters
   or deriving other transforms.</div>
      </section>

      <h3>Interface <a href="org/opengis/parameter/ParameterDescriptor.html">ParameterDescriptor</a></h3>
      <section class="members">
        <h4>Method createValue</h4>
        <div class="desc">This method is not part of the ISO specification. It is provided in GeoAPI as a kind of
   factory method.</div>

        <h4>Method getValidValues,<br>Method getUnit</h4>
        <div class="desc">This method is not part of ISO specification. It is provided as a complement of information.</div>
      </section>

      <h3>Interface <a href="org/opengis/parameter/ParameterDescriptorGroup.html">ParameterDescriptorGroup</a></h3>
      <section class="members">
        <h4>Method createValue</h4>
        <div class="desc">This method is not part of the ISO specification. It is provided in GeoAPI as a kind of
   factory method.</div>
      </section>

      <h3>Interface <a href="org/opengis/util/RecordType.html">RecordType</a></h3>
      <section class="members">
        <h4>Method getContainer</h4>
        <div class="desc">This is the <code>TypeList</code> association in figure 15 of ISO 19103:2005,
   but navigable in the opposite way. The navigation in the ISO way is represented
   by the <code>RecordSchema.getDescription().values()</code>.</div>
      </section>
    </section>
    <h2 id="historic">Departure for historical reason</h2>
    <section class="types">

      <h3>Interface <a href="org/opengis/referencing/cs/CSAuthorityFactory.html">CSAuthorityFactory</a>,<br>Interface <a href="org/opengis/referencing/cs/CSFactory.html">CSFactory</a></h3>
        <div class="desc">Added for consistency with CRS and datum factories. This CS factory was not defined in the
   OGC specification because OGC 01-009 was created before ISO 19111 and had no equivalent of
   the ISO <cite>Coordinate System</cite> types.</div>

      <h3>Interface <a href="org/opengis/referencing/crs/GeocentricCRS.html">GeocentricCRS</a>,<br>Interface <a href="org/opengis/referencing/crs/GeographicCRS.html">GeographicCRS</a></h3>
        <div class="desc">This interface is kept conformant with the specification published in 2003. 
   The 2007 revision of ISO 19111 removed the <code>GeographicCRS</code> and 
   <code>GeocentricCRS</code> types, handling both using the <code>GeodeticCRS</code> parent type.
   GeoAPI keeps them since the distinction between those two types is in wide use.</div>

      <h3>Interface <a href="org/opengis/referencing/ReferenceSystem.html">ReferenceSystem</a></h3>
        <div class="desc">This interface was initially derived from an ISO 19111 specification published in 2003. Later
   revisions (in 2005) rely on an interface defined in ISO 19115 instead. The annotations were
   updated accordingly, but this interface is still defined in the referencing package instead
   of the metadata package for this historical reason.</div>

      <h3>Interface <a href="org/opengis/referencing/operation/CoordinateOperation.html">CoordinateOperation</a></h3>
      <section class="members">
        <h4>Method getScope</h4>
        <div class="desc">This method has been kept conformant with the specification published in 2003.
   The revision published in 2007 replaced the singleton by a collection and changed the
   obligation from "optional" to "mandatory", requiring a return value of 
   "<cite>not known</cite>" if the scope is unknown. This change is still under review.</div>
      </section>

      <h3>Interface <a href="org/opengis/referencing/datum/Datum.html">Datum</a></h3>
      <section class="members">
        <h4>Method getScope</h4>
        <div class="desc">This method has been kept conformant with the specification published in 2003. The revision
   published in 2007 replaced the singleton by a collection and changed the obligation
   from "optional" to "mandatory", requiring a return value of "<cite>not known</cite>"
   if the scope is unknown. This change is still under review.</div>
      </section>

      <h3>Interface <a href="org/opengis/referencing/ReferenceSystem.html">ReferenceSystem</a></h3>
      <section class="members">
        <h4>Method getDomainOfValidity</h4>
        <div class="desc">This method has been kept conformant with the specification published in 2003.
   Later revisions changed the multiplicity, so the return type should now be a 
   collection. The singleton has been preserved in GeoAPI for historical reasons, 
   and also because the <code>Extent</code> attributes already allow collections.</div>

        <h4>Method getScope</h4>
        <div class="desc">This method has been kept conformant with the specification published in 2003. 
   A later revision moved this attribute to subclasses, but GeoAPI keeps this method 
   here for historical reasons. The obligation is still optional, as opposed to ISO 19111:2007
   which makes this attribute mandatory while mandating the text "<cite>not known</cite>" if
   the scope is unknown. In addition, the return value of this method is still a singleton as in
   the 2003 version, as opposed to the 2007 version which mandates a collection. The proposed
   change is still under review.</div>
      </section>
    </section>
    <h2 id="rename">Change of name without change in functionality</h2>
    <section class="types">

      <h3>Interface <a href="org/opengis/parameter/GeneralParameterDescriptor.html">GeneralParameterDescriptor</a>,<br>Interface <a href="org/opengis/parameter/ParameterDescriptor.html">ParameterDescriptor</a>,<br>Interface <a href="org/opengis/parameter/ParameterDescriptorGroup.html">ParameterDescriptorGroup</a></h3>
        <div class="desc">GeoAPI uses a name which contains the "<code>Descriptor</code>" word for consistency with other
   libraries in Java (e.g. <code>ParameterListDescriptor</code> in Java Advanced Imaging).</div>

      <h3>Interface <a href="org/opengis/referencing/crs/GeneralDerivedCRS.html">GeneralDerivedCRS</a></h3>
      <section class="members">
        <h4>Method getConversionFromBase</h4>
        <div class="desc">"<code>conversion</code>" may be confusing as a method name since it does not indicate 
   which CRS is the source or which is the target. OGC document 01-009 used the 
   <code>toBase()</code> method name. By analogy with 01-009, GeoAPI defines a method name
   which contains the "<code>FromBase</code>" expression.</div>
      </section>

      <h3>Interface <a href="org/opengis/metadata/extent/GeographicExtent.html">GeographicExtent</a></h3>
      <section class="members">
        <h4>Method getInclusion</h4>
        <div class="desc">The ISO identifier is <code>"extentTypeCode"</code> and defines the value 1 for inclusion,
   and 0 for exclusion. GeoAPI uses a name which better expresses the meaning of the return
   value.</div>
      </section>

      <h3>Interface <a href="org/opengis/parameter/ParameterValue.html">ParameterValue</a></h3>
      <section class="members">
        <h4>Method doubleValue</h4>
        <div class="desc">Renamed the method from "<code>value</code>" to "<code>doubleValue</code>" for consistency
   with <code>Number.doubleValue()</code> and the other "<code>*Value</code>" methods defined
   in this interface.</div>

        <h4>Method intValue</h4>
        <div class="desc">Renamed the method from "<code>integerValue</code>" to "<code>intValue</code>" for
   consistency with <code>Number.intValue()</code> and the <code>int</code> Java primitive type.</div>

        <h4>Method doubleValueList</h4>
        <div class="desc">Renamed the method from "<code>valueList</code>" to "<code>doubleValueList</code>" both for
   consistency with <code>doubleValue()</code> and also because, like <code>doubleValue()</code>,
   this method returns an array of <code>double</code> values rather than a <code>Measure</code>
   object.</div>

        <h4>Method intValueList</h4>
        <div class="desc">Renamed the attribute from "<code>integerValueList</code>" to "<code>intValueList</code>"
   for consistency with <code>intValue()</code>.</div>
      </section>

      <h3>Interface <a href="org/opengis/parameter/ParameterValueGroup.html">ParameterValueGroup</a></h3>
      <section class="members">
        <h4>Method getDescriptor</h4>
        <div class="desc">The ISO name was "<code>group</code>". GeoAPI uses "<code>descriptor</code>" instead in
   order to override the <code>getDescriptor()</code> generic method provided in the parent
   interface. In addition the "descriptor" name makes more apparent that this method returns
   an abstract definition of parameters - not their actual values - and is consistent with
   usage in other Java libraries like the <cite>Java Advanced Imaging</cite> library.</div>
      </section>
    </section>
    <h2 id="constraint">Departure due to constraint of the Java language</h2>
    <section class="types">

      <h3>Package <a href="org/opengis/referencing/cs/package-summary.html">cs</a></h3>
        <div class="desc">ISO 19111 defines <code>GeodeticCS</code>, <code>EngineeringCS</code> and <code>ImageCS</code>
   unions for type safety, which ensures, for example, that a <code>GeodeticCRS</code> only be
   associated to a <code>CartesianCS</code>, an <code>EllipsoidalCS</code> or a <code>SphericalCS</code>.
   However the <code>union</code> construct found in some languages like C/C++ is not available
   in Java. In the particular case of <code>ImageCS</code>, the same type-safety objective can
   be obtained through a slight change in the interface hierarchy (see the departure documented
   in <code>CartesianCS</code>). For the other two unions (<code>GeodeticCS</code> and
   <code>EngineeringCS</code>), no workaround is proposed.</div>

      <h3>Interface <a href="org/opengis/referencing/cs/CartesianCS.html">CartesianCS</a></h3>
        <div class="desc">ISO 19111 defines <code>CartesianCS</code> as a direct sub-type of <code>CoordinateSystem</code>.
   ISO also defines <code>ImageCS</code> as the union of <code>AffineCS</code> and <code>CartesianCS</code>,
   for use by <code>ImageCRS</code>. Because the <code>union</code> construct found in some languages like
   C/C++ does not exist in Java, GeoAPI defines <code>CartesianCS</code> as a sub-type of <code>AffineCS</code>
   in order to achieve the same type safety; also, GeoAPI does not define <code>ImageCS</code> but uses 
   <code>AffineCS</code> instead. In this hierarchy, <code>CartesianCS</code> is considered
   a special case of <code>AffineCS</code> where all axes are perpendicular to each other.</div>

      <h3>Interface <a href="org/opengis/referencing/datum/Ellipsoid.html">Ellipsoid</a></h3>
        <div class="desc">ISO 19111 defines the union named <code>secondDefiningParameter</code> as being either
   <code>semiMinorAxis</code> or <code>inverseFlattening</code>. The <code>union</code>
   construct (defined in some languages like C/C++) does not exist in Java. GeoAPI changed the
   interface to require both ellipsoidal parameters (in addition to the <code>semiMajorAxis</code>
   parameter which is mandatory in any case), as was done in OGC 01-009. However, implementors
   could readily permit users to only provide one of the two parameters by creating a class which
   calculates the second parameter from the first. For precision, GeoAPI imports the
   <code>isIvfDefinitive</code> attribute from OGC 01-009 to enable the user to establish which of
   the two parameters was used to define the instance.</div>

      <h3>Interface <a href="org/opengis/geometry/coordinate/Position.html">Position</a></h3>
        <div class="desc">ISO 19107 defines <code>Position</code> as a <code>union</code> of
   <code>DirectPosition</code> and <code>Point</code> but unions are not allowed in Java.
   GeoAPI defines <code>Position</code> as the base interface of both types so the two
   conditional accessor methods, <code>getPoint()</code> and <code>getDirectPosition()</code>,
   can be replaced by an <code>instanceof</code> check. However, the
   <code>getDirectPosition()</code> has been retained with different semantics, conceptually
   returning a <code>DirectPosition</code> at the same location. The conditionality has also
   been changed to mandatory since all three types conceptually have a well defined location.</div>

      <h3>Enum <a href="org/opengis/annotation/Obligation.html">Obligation</a></h3>
      <section class="members">
        <h4>Enum FORBIDDEN</h4>
        <div class="desc">ISO specifications sometime override a parent method with a comment saying that the method
   is not allowed for a particular class. Since there is no construct in Java for expressing this
   constraint in the method signature, GeoAPI defines a <code>FORBIDDEN</code> obligation
   (not in original ISO specifications) to be used with the <code>@UML</code> annotation and
   which adds a flag in the Java documentation.</div>
      </section>
    </section>
    <h2 id="generalization">Generalization by relaxation of ISO/OGC restriction</h2>
    <section class="types">

      <h3>Interface <a href="org/opengis/referencing/AuthorityFactory.html">AuthorityFactory</a></h3>
      <section class="members">
        <h4>Method createObject</h4>
        <div class="desc">This method is not part of the OGC specification. It has been added to leverage the
   capability of factories that can automatically determine the type of the requested
   object at runtime.</div>
      </section>

      <h3>Interface <a href="org/opengis/referencing/crs/CompoundCRS.html">CompoundCRS</a></h3>
      <section class="members">
        <h4>Method getComponents</h4>
        <div class="desc">According ISO 19111, "<cite>A Compound CRS is a coordinate reference system that combines
    two or more coordinate reference systems, <u>none of which can itself be compound</u></cite>".
    However this constraint greatly increases the cost of extracting metadata (especially the CRS
    identifier) of the three-dimensional part of a spatio-temporal CRS. Note also that in
    "<u>Coordinate Transformation Services</u>" (OGC document 01-009), a compound CRS was
    specified as a pair of arbitrary CRS ("head" and "tail") where each could be another
    compound CRS, allowing the creation of a tree. GeoAPI follows that more general strategy.</div>
      </section>

      <h3>Interface <a href="org/opengis/referencing/crs/CoordinateReferenceSystem.html">CoordinateReferenceSystem</a></h3>
      <section class="members">
        <h4>Method getCoordinateSystem</h4>
        <div class="desc">ISO 19111 defines this method for <code>SingleCRS</code> only. GeoAPI declares this method
   in this parent interface for user convenience, since CS dimension and axes are commonly
   requested information and will always be available, directly or indirectly,
   even for <code>CompoundCRS</code>.</div>
      </section>

      <h3>Interface <a href="org/opengis/parameter/GeneralParameterDescriptor.html">GeneralParameterDescriptor</a></h3>
      <section class="members">
        <h4>Method getMaximumOccurs</h4>
        <div class="desc">Moved up (in the interface hierarchy) the <code>maximumOccurs</code> method from
   <code>ParameterDescriptorGroup</code> into this  super-interface, for parallelism
   with the <code>minimumOccurs</code> method.</div>
      </section>

      <h3>Interface <a href="org/opengis/util/GenericName.html">GenericName</a></h3>
      <section class="members">
        <h4>Method head</h4>
        <div class="desc">ISO defines this method in <code>ScopedName</code> only. GeoAPI defines it in the base
   class since <code>LocalName</code> can return a sensible value for it. This reduces the
   need for casts.</div>
      </section>

      <h3>Interface <a href="org/opengis/util/Record.html">Record</a></h3>
      <section class="members">
        <h4>Method getAttributes</h4>
        <div class="desc">Figure 15 in ISO 19103:2005 specifies a cardinality of 1. However, this seems to 
   contradict the semantics of the <code>locate(name)</code> and 
   <code>RecordType.getMemberTypes()</code> methods.</div>
      </section>
    </section>
  </section>
  </body>
</html>
